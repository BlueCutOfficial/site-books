function e(e,t,s,n){Object.defineProperty(e,t,{get:s,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=s.parcelRequire1ebe;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},s.parcelRequire1ebe=r),r.register("02wgx",(function(t,s){e(t.exports,"setupQuestions",(function(){return o})),e(t.exports,"updateAnswer",(function(){return u}));var n=r("91BTG");const i=[{id:"size",label:"Plutôt roman court ou roman plus long ?",choices:[{id:"short",label:"Plutôt court.",score:{suzuha:3,ede:0,vdy:0}},{id:"long",label:"Histoire qui dure.",score:{suzuha:0,ede:2,vdy:2}},{id:"no-size-preference",label:"C'est pas la taille qui compte.",score:{suzuha:0,ede:0,vdy:0}}]},{id:"pace",label:"Quel rythme de lecture recherchez-vous ? Êtes-vous dans l'action ou dans la contemplation ?",choices:[{id:"fast",label:"J'aime quand les événements s'enchainent rapidement.",score:{suzuha:3,ede:3,vdy:1}},{id:"slow",label:"Je veux m'imprégner de l'ambiance avec de belles descriptions.",score:{suzuha:1,ede:2,vdy:3}},{id:"middle",label:"Tout est dans l'équilibre.",score:{suzuha:1,ede:3,vdy:2}}]},{id:"time",label:"Quel temps de narration préférez-vous ?",choices:[{id:"present",label:"Présent",score:{suzuha:3,ede:3,vdy:0}},{id:"past",label:"Passé",score:{suzuha:0,ede:0,vdy:3}},{id:"no-time-preference",label:"Aucune importance, tant que le style m'emporte.",score:{suzuha:0,ede:0,vdy:0}}]},{id:"affinity",label:"Y a-t-il un élément du cercle de la magie qui vous inspire particulièrement ?",choices:[{id:"water",label:"Eau",score:{suzuha:3,ede:2,vdy:0}},{id:"light",label:"Lumière",score:{suzuha:0,ede:3,vdy:3}},{id:"darkness",label:"Ombre",score:{suzuha:0,ede:3,vdy:0}}]},{id:"theme",label:"Parmi les thématiques suivantes, laquelle vous parle le plus ?",choices:[{id:"feminism",label:"Féminisme",score:{suzuha:3,ede:1,vdy:1}},{id:"journey",label:"Voyage",score:{suzuha:1,ede:3,vdy:1}},{id:"culture-shock",label:"Choc des cultures",score:{suzuha:1,ede:2,vdy:3}}]},{id:"character",label:"Quel genre de personnage avez-vous envie de suivre ?",choices:[{id:"heros",label:"Une héroïne dans la pure tradition, gentille, courageuse et travailleuse.",score:{suzuha:3,ede:0,vdy:0}},{id:"dark-man",label:"Un jeune homme qui a ses défauts et un lourd passé.",score:{suzuha:0,ede:1,vdy:3}},{id:"duo",label:"Et pourquoi pas deux personnages dont les chemins vont se croiser ?",score:{suzuha:0,ede:3,vdy:0}}]},{id:"pet",label:"Le compagnon idéal du rôdeur qui est en vous ?",choices:[{id:"squirrel",label:"Un écureuil",score:{suzuha:0,ede:3,vdy:0}},{id:"dragon-tiger",label:"Un GROS félin",score:{suzuha:3,ede:0,vdy:0}},{id:"no-animal",label:"Je préfère les arbres aux animaux.",score:{suzuha:0,ede:0,vdy:3}}]}];function o(){window.questions=i.sort((()=>Math.random()-.5)),n.select("wtr-question-number").setAttribute("questions-length",window.questions.length),a(),n.select("wtr-button-next").addEventListener("click",c)}function u(e){window.selectedAnswer=e,l()}function d(){return window.questionIndex<window.questions.length?window.questions[window.questionIndex]:void 0}function l(){let e=d().choices.find((({id:e})=>e===window.selectedAnswer)).score;for(let[t]of Object.entries(window.tmpScore))window.tmpScore[t]=window.score[t]+e[t];n.select("wtr-result").setAttribute("score",JSON.stringify(window.tmpScore))}function a(){window.selectedAnswer=d().choices[0].id,l(),n.select("wtr-question").setAttribute("question",JSON.stringify(d())),n.select("wtr-question-number").setAttribute("question-index",window.questionIndex+1)}function c(){if(Object.assign(window.score,{...window.tmpScore}),window.questionIndex++,d()&&a(),window.questionIndex===window.questions.length-1){n.select("wtr-button-next").innerHTML="Valider"}else if(window.questionIndex===window.questions.length){n.select("wtr-button-next").setAttribute("hidden",!0),n.select("wtr-question").setAttribute("hidden",!0),n.select("wtr-question-number").setAttribute("hidden",!0),n.select("wtr-see-books").removeAttribute("hidden")}}})),r.register("91BTG",(function(t,s){function n(e){let t=window.selectors[e];return t||(t=document.getElementById(e),window.selectors.id=t),t}function i(e,t,s){e.forEach((e=>{s?n(e).classList.add(t):n(e).classList.remove(t)}))}function r(){return`#${window.baseURL}?${window.sortingParam}`}e(t.exports,"select",(function(){return n})),e(t.exports,"toggleClass",(function(){return i})),e(t.exports,"getURL",(function(){return r}))})),r("hqokU").register(JSON.parse('{"6jiUl":"index.266c06e1.js","gbcXk":"style.74264d4a.css","hwmB9":"background.0a8f6521.jpg","cx3w5":"artwork-suzuha.22f78bed.jpg","aroW2":"artwork-ede.bf6f015e.png","ilpGW":"cover-renaissance-s4-1024.1780a789.png","6Vjqf":"artwork-statue-chateau-s4.e8f883b3.png","gR7QX":"artwork-lecture-s4.e6252b68.png"}'));var o;o=new URL(r("hqokU").resolve("gbcXk"),import.meta.url).toString();var u=r("02wgx");class d extends HTMLElement{static get observedAttributes(){return["question"]}attributeChangedCallback(e,t,s){null!==t&&this.removeQuestionListeners();let n=JSON.parse(s);this.showQuestion(n),this.addQuestionListeners()}disconnectedCallback(){this.removeQuestionListeners()}addQuestionListeners(){this.wrapper.querySelectorAll("[name]").forEach((e=>{e.addEventListener("change",this.selectAnswer)}))}removeQuestionListeners(){this.wrapper.querySelectorAll("[name]").forEach((e=>{e.removeEventListener("change",this.selectAnswer)}))}selectAnswer(e){u.updateAnswer(e.target.value)}showQuestion(e){let t="",s=!0,n=" checked";e.choices.forEach((e=>{t+=`\n        <div>\n          <input type="radio" id="${e.id}" name="question" value="${e.id}"${n}>\n          <label for="${e.id}">${e.label}</label>\n        </div>\n      `,s&&(s=!1,n="")})),this.wrapper.innerHTML=`\n      <p>${e.label}</p>\n      ${t}\n    `}constructor(){super(),this.wrapper=document.createElement("div");var e=this.attachShadow({mode:"closed"});e.innerHTML=`\n      <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">\n      <link rel="stylesheet" type="text/css" href="${t(o)}">\n    `,e.appendChild(this.wrapper)}}customElements.define("adr-question",d);
//# sourceMappingURL=index.266c06e1.js.map
