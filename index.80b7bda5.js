function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},r=n.parcelRequire1ebe;null==r&&((r=function(e){if(e in s)return s[e].exports;if(e in i){let t=i[e];delete i[e];let n={id:e,exports:{}};return s[e]=n,t.call(n.exports,n,n.exports),n.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,t){i[e]=t},n.parcelRequire1ebe=r);var o,u=r("97DEC");o=r("gBTx4").getBundleURL()+"style.9595e6cf.css",r.register("4URwl",(function(e,n){t(e.exports,"setupQuestions",(()=>u)),t(e.exports,"updateAnswer",(()=>l));var s=r("97DEC"),i=r("4g06v"),o=[{id:"size",label:"Plutôt roman court ou roman plus long ?",choices:[{id:"short",label:"Plutôt court.",score:{suzuha:3,ede:0,vdy:0}},{id:"long",label:"Histoire qui dure.",score:{suzuha:0,ede:2,vdy:2}},{id:"no-size-preference",label:"C'est pas la taille qui compte.",score:{suzuha:0,ede:0,vdy:0}}]},{id:"pace",label:"Quel rythme de lecture recherchez-vous ? Êtes-vous dans l'action ou dans la contemplation ?",choices:[{id:"fast",label:"J'aime quand les événements s'enchainent rapidement.",score:{suzuha:3,ede:3,vdy:1}},{id:"slow",label:"Je veux m'imprégner de l'ambiance avec de belles descriptions.",score:{suzuha:1,ede:2,vdy:3}},{id:"middle",label:"Tout est dans l'équilibre.",score:{suzuha:1,ede:3,vdy:2}}]},{id:"time",label:"Quel temps de narration préférez-vous ?",choices:[{id:"present",label:"Présent",score:{suzuha:3,ede:3,vdy:0}},{id:"past",label:"Passé",score:{suzuha:0,ede:0,vdy:3}},{id:"no-time-preference",label:"Aucune importance, tant que le style m'emporte.",score:{suzuha:0,ede:0,vdy:0}}]},{id:"affinity",label:"Y a-t-il un élément du cercle de la magie qui vous inspire particulièrement ?",choices:[{id:"water",label:"Eau",score:{suzuha:3,ede:2,vdy:0}},{id:"light",label:"Lumière",score:{suzuha:0,ede:3,vdy:3}},{id:"darkness",label:"Ombre",score:{suzuha:0,ede:3,vdy:0}}]},{id:"theme",label:"Parmi les thématiques suivantes, laquelle vous parle le plus ?",choices:[{id:"feminism",label:"Féminisme",score:{suzuha:3,ede:1,vdy:1}},{id:"journey",label:"Voyage",score:{suzuha:1,ede:3,vdy:1}},{id:"culture-shock",label:"Choc des cultures",score:{suzuha:1,ede:2,vdy:3}}]},{id:"character",label:"Quel genre de personnage avez-vous envie de suivre ?",choices:[{id:"heros",label:"Une héroïne dans la pure tradition, gentille, courageuse et travailleuse.",score:{suzuha:3,ede:0,vdy:0}},{id:"dark-man",label:"Un jeune homme qui a ses défauts et un lourd passé.",score:{suzuha:0,ede:1,vdy:3}},{id:"duo",label:"Et pourquoi pas deux personnages dont les chemins vont se croiser ?",score:{suzuha:0,ede:3,vdy:0}}]},{id:"pet",label:"Le compagnon idéal du rôdeur qui est en vous ?",choices:[{id:"squirrel",label:"Un écureuil",score:{suzuha:0,ede:3,vdy:0}},{id:"dragon-tiger",label:"Un GROS félin",score:{suzuha:3,ede:0,vdy:0}},{id:"no-animal",label:"Je préfère les arbres aux animaux.",score:{suzuha:0,ede:0,vdy:3}}]}];function u(){window.questions=o.sort((function(){return Math.random()-.5})),i.select("wtr-question-number").setAttribute("questions-length",window.questions.length),c(),i.select("wtr-button-next").addEventListener("click",h)}function l(e){window.selectedAnswer=e,d()}function a(){return window.questionIndex<window.questions.length?window.questions[window.questionIndex]:void 0}function d(){var e=a().choices.find((function(e){return e.id===window.selectedAnswer})).score,t=!0,n=!1,r=void 0;try{for(var o,u=Object.entries(window.tmpScore)[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var l=s.slicedToArray(o.value,1)[0];window.tmpScore[l]=window.score[l]+e[l]}}catch(e){n=!0,r=e}finally{try{t||null==u.return||u.return()}finally{if(n)throw r}}i.select("wtr-result").setAttribute("score",JSON.stringify(window.tmpScore))}function c(){window.selectedAnswer=a().choices[0].id,d(),i.select("wtr-question").setAttribute("question",JSON.stringify(a())),i.select("wtr-question-number").setAttribute("question-index",window.questionIndex+1)}function h(){if(Object.assign(window.score,s.objectSpread({},window.tmpScore)),window.questionIndex++,a()&&c(),window.questionIndex===window.questions.length-1)i.select("wtr-button-next").innerHTML="Valider";else if(window.questionIndex===window.questions.length){i.select("wtr-button-next").setAttribute("hidden",!0),i.select("wtr-question").setAttribute("hidden",!0),i.select("wtr-question-number").setAttribute("hidden",!0),i.select("wtr-see-books").removeAttribute("hidden")}}})),r.register("4g06v",(function(e,n){function s(e){var t=window.selectors[e];return t||(t=document.getElementById(e),window.selectors.id=t),t}function i(e,t,n){e.forEach((function(e){n?s(e).classList.add(t):s(e).classList.remove(t)}))}function r(){return"#".concat(window.baseURL,"?").concat(window.sortingParam)}t(e.exports,"toggleClass",(()=>i)),t(e.exports,"getURL",(()=>r)),t(e.exports,"select",(()=>s))}));var l=r("4URwl"),a=function(t){function n(){var t;u.classCallCheck(this,n),(t=u.possibleConstructorReturn(this,u.getPrototypeOf(n).call(this))).wrapper=document.createElement("div");var s=t.attachShadow({mode:"closed"});return s.innerHTML='\n      <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">\n      <link rel="stylesheet" type="text/css" href="'.concat(e(o),'">\n    '),s.appendChild(t.wrapper),t}return u.inherits(n,t),u.createClass(n,[{key:"attributeChangedCallback",value:function(e,t,n){null!==t&&this.removeQuestionListeners();var s=JSON.parse(n);this.showQuestion(s),this.addQuestionListeners()}},{key:"disconnectedCallback",value:function(){this.removeQuestionListeners()}},{key:"addQuestionListeners",value:function(){this.wrapper.querySelectorAll("[name]").forEach(function(e){e.addEventListener("change",this.selectAnswer)}.bind(this))}},{key:"removeQuestionListeners",value:function(){this.wrapper.querySelectorAll("[name]").forEach(function(e){e.removeEventListener("change",this.selectAnswer)}.bind(this))}},{key:"selectAnswer",value:function(e){l.updateAnswer(e.target.value)}},{key:"showQuestion",value:function(e){var t="",n=!0,s=" checked";e.choices.forEach((function(e){t+='\n        <div>\n          <input type="radio" id="'.concat(e.id,'" name="question" value="').concat(e.id,'"').concat(s,'>\n          <label for="').concat(e.id,'">').concat(e.label,"</label>\n        </div>\n      "),n&&(n=!1,s="")})),this.wrapper.innerHTML="\n      <p>".concat(e.label,"</p>\n      ").concat(t,"\n    ")}}],[{key:"observedAttributes",get:function(){return["question"]}}]),n}(u.wrapNativeSuper(HTMLElement));customElements.define("adr-question",a);
//# sourceMappingURL=index.80b7bda5.js.map
