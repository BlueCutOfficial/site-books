{"mappings":"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","sources":["js/utils/generics.js","js/utils/sidebar.js","node_modules/@swc/helpers/src/_async_to_generator.js","node_modules/@swc/helpers/src/_class_call_check.js","node_modules/@swc/helpers/src/_create_class.js","node_modules/@swc/helpers/src/_get_prototype_of.js","node_modules/@swc/helpers/src/_inherits.js","node_modules/@swc/helpers/src/_set_prototype_of.js","node_modules/@swc/helpers/src/_object_spread.js","node_modules/@swc/helpers/src/_define_property.js","node_modules/@swc/helpers/src/_possible_constructor_return.js","node_modules/@swc/helpers/src/_assert_this_initialized.js","node_modules/@swc/helpers/src/_type_of.js","node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/@swc/helpers/src/_wrap_native_super.js","node_modules/@swc/helpers/src/_construct.js","node_modules/@swc/helpers/src/_is_native_function.js","js/utils/header.js","js/utils/setup-page.js","js/utils/what-to-read.js","js/ui.js"],"sourcesContent":["/**\n * Get element by id\n * Elements that were already requested are registered in \"selectors\" array for performance\n */\nexport function select(id) {\n  let selector = window.selectors[id]\n  if (!selector) {\n    selector = document.getElementById(id)\n    window.selectors.id = selector\n  }\n  return selector\n}\n\n/**\n * Add or remove the class \"toggleClass\" on all given selectors\n */\nexport function toggleClass(selectors, toggleClass, isAdd) {\n  selectors.forEach((id) => {\n    if (isAdd) {\n      select(id).classList.add(toggleClass)\n    } else {\n      select(id).classList.remove(toggleClass)\n    }\n  })\n}\n\n/**\n * Return the part of the URL corresponding to location hash according to current values,\n * designed to work only when called on books page\n */\nexport function getURL() {\n  return `#${window.baseURL}?${window.sortingParam}`\n}","import { select, toggleClass } from './generics'\n\n/**\n * Hide the whole menu to show only the burger icon\n */\nexport function deactivateMenu() {\n  toggleClass(['layout', 'menu', 'menuLink'], 'active', false)\n}\n\n/**\n * Switch the menu from burger icon to full display\n */\nexport function toggleMenu() {\n  let active = 'active'\n  select('layout').classList.toggle(active)\n  select('menu').classList.toggle(active)\n  select('menuLink').classList.toggle(active)\n}\n\n/**\n * Show the item in parameter active in the sidebar\n */\nlet activateSidebarItem = function(itemId) {\n  select(itemId).classList.add('pure-menu-selected')\n  select(itemId).children[0].setAttribute('aria-current', 'page')\n}\n\n/**\n * Show the item in parameter inactive in the sidebar\n */\nlet deactivateSidebarItem = function(itemId) {\n  select(itemId).classList.remove('pure-menu-selected')\n  select(itemId).children[0].removeAttribute('aria-current')\n}\n\nconst menusConfig = {\n  home: {\n    itemsToActivate: [],\n    itemsToDeactivate: ['booksLink', 'infoLink', 'seriesLink'],\n    selectorsToShow: ['home'],\n    selectorsToHide: ['books', 'sorting-menu', 'info', 'series', 'whattoread']\n  }, \n  info: {\n    itemsToActivate: ['infoLink'],\n    itemsToDeactivate: ['booksLink', 'seriesLink'],\n    selectorsToShow: ['info'],\n    selectorsToHide: ['books', 'sorting-menu', 'home', 'series', 'whattoread']\n  },\n  livres: {\n    itemsToActivate: ['booksLink'],\n    itemsToDeactivate: ['infoLink', 'seriesLink'],\n    selectorsToShow: ['books', 'sorting-menu'],\n    selectorsToHide: ['info', 'home', 'series', 'whattoread']\n  }, \n  series: {\n    itemsToActivate: ['seriesLink'],\n    itemsToDeactivate: ['infoLink', 'booksLink'],\n    selectorsToShow: ['series'],\n    selectorsToHide: ['home', 'books', 'sorting-menu', 'info', 'whattoread']\n  },\n  'que-choisir': {\n    itemsToActivate: [],\n    itemsToDeactivate: ['infoLink', 'booksLink', 'seriesLink'],\n    selectorsToShow: ['whattoread'],\n    selectorsToHide: ['home', 'books', 'sorting-menu', 'info', 'series']\n  }\n}\n\n/**\n * Show the menu that fit the given id\n */\nexport function showMenu(menuId) {\n  window.baseURL = menuId\n  let { \n    itemsToActivate, \n    itemsToDeactivate, \n    selectorsToShow, \n    selectorsToHide \n  } = menusConfig[menuId]\n  itemsToActivate.forEach((itemToActivate) => {\n    activateSidebarItem(itemToActivate)\n  })\n  itemsToDeactivate.forEach((itemToDeactivate) => {\n    deactivateSidebarItem(itemToDeactivate)\n  })\n  toggleClass(selectorsToShow, 'hidden', false)\n  toggleClass(selectorsToHide, 'hidden', true)\n  deactivateMenu()\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","import setPrototypeOf from './_set_prototype_of';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","import defineProperty from './_define_property';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import assertThisInitialized from './_assert_this_initialized';\nimport _typeof from './_type_of';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","export default function _typeof(obj) {\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n","import construct from './_construct';\nimport isNativeFunction from './_is_native_function';\nimport getPrototypeOf from './_get_prototype_of';\nimport setPrototypeOf from './_set_prototype_of';\n\nfunction wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  wrapNativeSuper = function wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return wrapNativeSuper(Class);\n}\n\nexport default function _wrapNativeSuper(Class) {\n  return wrapNativeSuper(Class);\n}\n","function isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () { }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    construct = Reflect.construct;\n  } else {\n    construct = function construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return construct.apply(null, arguments);\n}\n\nexport default function _construct(Parent, args, Class) {\n  return construct.apply(null, arguments);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n","import { select, toggleClass, getURL } from './generics'\n\n/**\n * Rearrange the list of books\n */\nexport function sortBy(attribute) {\n  [...select('books').children]\n    .sort((a,b) => a.getAttribute(attribute) > b.getAttribute(attribute) ? 1 : -1)\n    .forEach(node => select('books').appendChild(node))\n}\n\n/**\n * Sort the list of books by chronological order\n */\nexport function sortByChrono() {\n  // Sort the list\n  sortBy('data-chrono')\n  // Update dropdown state\n  select('sorting').textContent = 'Ordre chronologique'\n  select('sorting').setAttribute('href', getURL())\n  toggleClass(['sorting-date', 'sorting-latest'], 'pure-menu-selected', false)\n  toggleClass(['sorting-chrono'], 'pure-menu-selected', true)\n}\n\n/**\n * Sort the list of books by publishing date order (oldest first)\n */\nexport function sortByDate() {\n  // Sort the list\n  sortBy('data-date')\n  // Update dropdown state\n  select('sorting').textContent = 'Date de publication'\n  select('sorting').setAttribute('href', '#livres?sorting=date')\n  toggleClass(['sorting-chrono', 'sorting-latest'], 'pure-menu-selected', false)\n  toggleClass(['sorting-date'], 'pure-menu-selected', true)\n}\n\n/**\n * Sort the list of books by publishing date order (latest first)\n */\nexport function sortByLatest() {\n  // Sort the list\n  sortBy('data-latest')\n  // Update dropdown state\n  select('sorting').textContent = 'Plus récent'\n  select('sorting').setAttribute('href', '#livres?sorting=latest')\n  toggleClass(['sorting-chrono', 'sorting-date'], 'pure-menu-selected', false)\n  toggleClass(['sorting-latest'], 'pure-menu-selected', true)\n}\n","import { select, getURL } from './generics'\nimport { showMenu } from './sidebar'\nimport { sortByDate, sortByChrono, sortByLatest } from './header'\n\n/**\n * Update sorting parameter\n * Change window location hash via href to trigger page set up\n */\nexport function setSorting(param) {\n  window.sortingParam = `sorting=${param}`\n  let sortingLink = `sorting-${param}`\n  select(sortingLink).setAttribute('href', getURL())\n}\n\n/**\n * Set up the page depending on the current URL\n */\nexport function setUpPage() {\n  let hash = window.location.hash\n  if (hash.includes('#menu')) {\n    // Do nothing if the burger icon is clicked\n    return\n  }\n  if (hash.includes('#info')) {\n    showMenu('info')\n  } else if (hash.includes('#livres')) {\n    showMenu('livres')\n    if (hash.includes('?')) {\n      let strParams = hash.split('?').reverse()[0]\n      let params = strParams.split('&') || strParams\n      params.forEach((param) => {\n        switch (param) {\n        default:\n          break\n        case 'sorting=date':\n          setSorting('date')\n          sortByDate()\n          break\n        case 'sorting=chrono':\n          setSorting('chrono')\n          sortByChrono()\n          break\n        case 'sorting=latest':\n          setSorting('latest')\n          sortByLatest()\n          break\n        }\n      })\n    }\n  } else if (hash.includes('#series')) {\n    showMenu('series')\n  } else if (hash.includes('#que-choisir')) {\n    showMenu('que-choisir')\n  } else {\n    showMenu('home')\n  }\n}","import { select } from './generics'\n\nconst questions = [{\n  id: 'size',\n  label: 'Plutôt roman court ou roman plus long ?',\n  choices: [{\n    id: 'short',\n    label: 'Plutôt court.',\n    score: { suzuha: 3, ede: 0, vdy: 0 }\n  }, {\n    id: 'long',\n    label: 'Histoire qui dure.',\n    score: { suzuha: 0, ede: 2, vdy: 2 }\n  }, {\n    id: 'no-size-preference',\n    label: 'C\\'est pas la taille qui compte.',\n    score: { suzuha: 0, ede: 0, vdy: 0 }\n  }]\n}, {\n  id: 'pace',\n  label: 'Quel rythme de lecture recherchez-vous ? Êtes-vous dans l\\'action ou dans la contemplation ?',\n  choices: [{\n    id: 'fast',\n    label: 'J\\'aime quand les événements s\\'enchainent rapidement.',\n    score: { suzuha: 3, ede: 3, vdy: 1 }\n  }, {\n    id: 'slow',\n    label: 'Je veux m\\'imprégner de l\\'ambiance avec de belles descriptions.',\n    score: { suzuha: 1, ede: 2, vdy: 3 }\n  }, {\n    id: 'middle',\n    label: 'Tout est dans l\\'équilibre.',\n    score: { suzuha: 1, ede: 3, vdy: 2 }\n  }]\n}, {\n  id: 'time',\n  label: 'Quel temps de narration préférez-vous ?',\n  choices: [{\n    id: 'present',\n    label: 'Présent',\n    score: { suzuha: 3, ede: 3, vdy: 0 }\n  }, {\n    id: 'past',\n    label: 'Passé',\n    score: { suzuha: 0, ede: 0, vdy: 3 }\n  }, {\n    id: 'no-time-preference',\n    label: 'Aucune importance, tant que le style m\\'emporte.',\n    score: { suzuha: 0, ede: 0, vdy: 0 }\n  }]\n}, {\n  id: 'affinity',\n  label: 'Y a-t-il un élément du cercle de la magie qui vous inspire particulièrement ?',\n  choices: [{\n    id: 'water',\n    label: 'Eau',\n    score: { suzuha: 3, ede: 2, vdy: 0 }\n  }, {\n    id: 'light',\n    label: 'Lumière',\n    score: { suzuha: 0, ede: 3, vdy: 3 }\n  }, {\n    id: 'darkness',\n    label: 'Ombre',\n    score: { suzuha: 0, ede: 3, vdy: 0 }\n  }]\n}, {\n  id: 'theme',\n  label: 'Parmi les thématiques suivantes, laquelle vous parle le plus ?',\n  choices: [{\n    id: 'feminism',\n    label: 'Féminisme',\n    score: { suzuha: 3, ede: 1, vdy: 1 }\n  }, {\n    id: 'journey',\n    label: 'Voyage',\n    score: { suzuha: 1, ede: 3, vdy: 1 }\n  }, {\n    id: 'culture-shock',\n    label: 'Choc des cultures',\n    score: { suzuha: 1, ede: 2, vdy: 3 }\n  }]\n}, {\n  id: 'character',\n  label: 'Quel genre de personnage avez-vous envie de suivre ?',\n  choices: [{\n    id: 'heros',\n    label: 'Une héroïne dans la pure tradition, gentille, courageuse et travailleuse.',\n    score: { suzuha: 3, ede: 0, vdy: 0 }\n  }, {\n    id: 'dark-man',\n    label: 'Un jeune homme qui a ses défauts et un lourd passé.',\n    score: { suzuha: 0, ede: 1, vdy: 3 }\n  }, {\n    id: 'duo',\n    label: 'Et pourquoi pas deux personnages dont les chemins vont se croiser ?',\n    score: { suzuha: 0, ede: 3, vdy: 0 }\n  }]\n}, {\n  id: 'pet',\n  label: 'Le compagnon idéal du rôdeur qui est en vous ?',\n  choices: [{\n    id: 'squirrel',\n    label: 'Un écureuil',\n    score: { suzuha: 0, ede: 3, vdy: 0 }\n  }, {\n    id: 'dragon-tiger',\n    label: 'Un GROS félin',\n    score: { suzuha: 3, ede: 0, vdy: 0 }\n  }, {\n    id: 'no-animal',\n    label: 'Je préfère les arbres aux animaux.',\n    score: { suzuha: 0, ede: 0, vdy: 3 }\n  }]\n}]\n\nexport function setupQuestions() {\n  // Set up the list of questions in a random order\n  window.questions = questions.sort(() => Math.random() - 0.5);\n  let adrQuestionNumberElement = select('wtr-question-number')\n  adrQuestionNumberElement.setAttribute('questions-length', window.questions.length)\n  // Initialize the current question\n  _showQuestion()\n  // Bind the next question function to the next question button's click\n  let nextQuestionButton = select('wtr-button-next')\n  nextQuestionButton.addEventListener('click', _nextQuestion)\n}\n\nexport function updateAnswer(value) {\n  window.selectedAnswer = value \n  _computeTmpScore()\n}\n\n/*\n * Return the structure of the current question, based on \"window.questionIndex\"\n */\nfunction _getQuestion() {\n  return window.questionIndex < window.questions.length \n    ? window.questions[window.questionIndex]\n    : undefined\n}\n\n/*\n * Update the temporay score \"window.tmpScore\".\n * It is the sum of the actual score and the current question score.\n * It should be updated each time the selected answer changes.\n */\nfunction _computeTmpScore() {\n  // Compute the temporary score from actual score and current question\n  let questionScore = _getQuestion().choices.find(({ id }) => {\n    return id === window.selectedAnswer\n  }).score\n  for (let [key] of Object.entries(window.tmpScore)) {\n    window.tmpScore[key] = window.score[key] + questionScore[key]\n  }\n  // Update the result list order\n  let resultListElement = select('wtr-result')\n  resultListElement.setAttribute('score', JSON.stringify(window.tmpScore))\n}\n\n/*\n * Update the question component attributes to display the current question.\n */\nfunction _showQuestion() {\n  // Initialize the selected answer and the temporary score \n  window.selectedAnswer = _getQuestion().choices[0].id\n  _computeTmpScore()\n  // Select the question component in the DOM\n  let adrQuestionElement = select('wtr-question')\n  // It needs the question structure\n  adrQuestionElement.setAttribute('question', JSON.stringify(_getQuestion()))\n  // Display the question number\n  let adrQuestionNumberElement = select('wtr-question-number')\n  adrQuestionNumberElement.setAttribute('question-index', window.questionIndex+1)\n}\n\nfunction _nextQuestion() {\n  // Finalize current score\n  Object.assign(window.score, { ...window.tmpScore })\n  // Show next question\n  window.questionIndex++\n  if (_getQuestion()) {\n    _showQuestion()\n  }\n  // If the last question is reached, change the button text, then hide all\n  if (window.questionIndex === window.questions.length-1) {\n    let nextQuestionButton = select('wtr-button-next')\n    nextQuestionButton.innerHTML = 'Valider'\n  } else if (window.questionIndex === window.questions.length) {\n    let nextQuestionButton = select('wtr-button-next')\n    nextQuestionButton.setAttribute('hidden', true)\n    let adrQuestionElement = select('wtr-question')\n    adrQuestionElement.setAttribute('hidden', true)\n    let adrQuestionNumberElement = select('wtr-question-number')\n    adrQuestionNumberElement.setAttribute('hidden', true)\n    let adrLinkToBooksElement = select('wtr-see-books')\n    adrLinkToBooksElement.removeAttribute('hidden')\n  }\n}\n","import { setSorting, setUpPage } from './utils/setup-page'\nimport { deactivateMenu, toggleMenu } from './utils/sidebar'\nimport { setupQuestions } from './utils/what-to-read'\n\nwindow.selectors = {}\n\n/**\n * Detection of a URL change reset the page\n */\nwindow.onhashchange = function() {\n  setUpPage()\n}\n\n/**\n * setUpPage called when DOM is loaded\n */\nwindow.onload = function() {\n  setUpPage()\n  setupQuestions()\n}\n\n/**\n * Methods bound to DOM elements need to be assigned globally \n */\nwindow.setSorting = setSorting\nwindow.deactivateMenu = deactivateMenu\nwindow.toggleMenu = toggleMenu\n\nwindow.score = { suzuha: 0, ede: 0, vdy: 0 }\nwindow.tmpScore = { suzuha: 0, ede: 0, vdy: 0 }\nwindow.selectedAnswer = undefined\nwindow.questions = []\nwindow.questionIndex = 0\n"],"names":["$83e236b8c428aefb$export$19be2ca186eec00f","id","selector","window","selectors","document","getElementById","$83e236b8c428aefb$export$bd6a58afea01c4ec","toggleClass","isAdd","forEach","classList","add","remove","$83e236b8c428aefb$export$20f141dc78dea879","concat","baseURL","sortingParam","$058b4c2209df98bb$export$cd8972a8990baac8","$058b4c2209df98bb$var$menusConfig","home","itemsToActivate","itemsToDeactivate","selectorsToShow","selectorsToHide","info","livres","series","$058b4c2209df98bb$export$5dbacec99f1ab004","menuId","_menuId","itemToActivate","itemId","children","setAttribute","itemToDeactivate","removeAttribute","$0a0013098d7bc340$var$asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","value","error","done","Promise","then","fn","self","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","$c7c6acecd6e58388$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","$b6bceed0f664cd61$var$getPrototypeOf","o","setPrototypeOf","getPrototypeOf","o1","__proto__","subClass","superClass","create","constructor","$9VsJG","default","$739fba48b5b10087$var$setPrototypeOf","p","p1","source","ownKeys","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","$6crL1","obj","call","$4uYiW","$6jP8i","ReferenceError","Symbol","arr","$8xfEA","$hDDmh","$kYzuN","Array","isArray","iter","iterator","toString","from","$6Vyt4","$gchvt","arr2","$eaf7e5fa42f61aa4$var$wrapNativeSuper","Class","_cache","Map","Class1","$hcY2L","has","get","set","Wrapper","$9mVW9","$fGI1X","$6d231c35790bce14$var$isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","$6d231c35790bce14$var$construct","Parent","Parent1","args1","a","push","Function","bind","_setPrototypeOf","indexOf","$bc510ff8345a7859$export$f12f126c3f678727","attribute","sort","b","getAttribute","node","appendChild","$5438aadfb20e8f8a$export$2b9946960bfb268c","param","$5438aadfb20e8f8a$export$6ae4f36b4e746dc2","hash","location","includes","strParams","split","reverse","textContent","$2aa0c4217058641a$var$questions","label","choices","score","suzuha","ede","vdy","$2aa0c4217058641a$export$ac24b86c55400252","questions","Math","random","$2aa0c4217058641a$var$_showQuestion","addEventListener","$2aa0c4217058641a$var$_nextQuestion","$2aa0c4217058641a$export$345e9644ae40cb40","selectedAnswer","$2aa0c4217058641a$var$_computeTmpScore","$2aa0c4217058641a$var$_getQuestion","questionIndex","questionScore","find","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","entries","tmpScore","next","return","JSON","stringify","assign","$itVBI","innerHTML","onhashchange","onload","$3EUhB","setupQuestions","setSorting","deactivateMenu","toggleMenu","active","toggle"],"version":3,"file":"index.1054d22a.js.map"}