!function(){function e(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},r={},i=n.parcelRequire1ebe;null==i&&((i=function(e){if(e in s)return s[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return s[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},n.parcelRequire1ebe=i),i.register("12Wwg",(function(t,n){e(t.exports,"setupQuestions",(function(){return u})),e(t.exports,"updateAnswer",(function(){return a}));var s=i("kAkBg"),r=i("jYHEd"),o=[{id:"size",label:"Plutôt roman court ou roman plus long ?",choices:[{id:"short",label:"Plutôt court.",score:{suzuha:3,ede:0,vdy:0}},{id:"long",label:"Histoire qui dure.",score:{suzuha:0,ede:2,vdy:2}},{id:"no-size-preference",label:"C'est pas la taille qui compte.",score:{suzuha:0,ede:0,vdy:0}}]},{id:"pace",label:"Quel rythme de lecture recherchez-vous ? Êtes-vous dans l'action ou dans la contemplation ?",choices:[{id:"fast",label:"J'aime quand les événements s'enchainent rapidement.",score:{suzuha:3,ede:3,vdy:1}},{id:"slow",label:"Je veux m'imprégner de l'ambiance avec de belles descriptions.",score:{suzuha:1,ede:2,vdy:3}},{id:"middle",label:"Tout est dans l'équilibre.",score:{suzuha:1,ede:3,vdy:2}}]},{id:"time",label:"Quel temps de narration préférez-vous ?",choices:[{id:"present",label:"Présent",score:{suzuha:3,ede:3,vdy:0}},{id:"past",label:"Passé",score:{suzuha:0,ede:0,vdy:3}},{id:"no-time-preference",label:"Aucune importance, tant que le style m'emporte.",score:{suzuha:0,ede:0,vdy:0}}]},{id:"affinity",label:"Y a-t-il un élément du cercle de la magie qui vous inspire particulièrement ?",choices:[{id:"water",label:"Eau",score:{suzuha:3,ede:2,vdy:0}},{id:"light",label:"Lumière",score:{suzuha:0,ede:3,vdy:3}},{id:"darkness",label:"Ombre",score:{suzuha:0,ede:3,vdy:0}}]},{id:"theme",label:"Parmi les thématiques suivantes, laquelle vous parle le plus ?",choices:[{id:"feminism",label:"Féminisme",score:{suzuha:3,ede:1,vdy:1}},{id:"journey",label:"Voyage",score:{suzuha:1,ede:3,vdy:1}},{id:"culture-shock",label:"Choc des cultures",score:{suzuha:1,ede:2,vdy:3}}]},{id:"character",label:"Quel genre de personnage avez-vous envie de suivre ?",choices:[{id:"heros",label:"Une héroïne dans la pure tradition, gentille, courageuse et travailleuse.",score:{suzuha:3,ede:0,vdy:0}},{id:"dark-man",label:"Un jeune homme qui a ses défauts et un lourd passé.",score:{suzuha:0,ede:1,vdy:3}},{id:"duo",label:"Et pourquoi pas deux personnages dont les chemins vont se croiser ?",score:{suzuha:0,ede:3,vdy:0}}]},{id:"pet",label:"Le compagnon idéal du rôdeur qui est en vous ?",choices:[{id:"squirrel",label:"Un écureuil",score:{suzuha:0,ede:3,vdy:0}},{id:"dragon-tiger",label:"Un GROS félin",score:{suzuha:3,ede:0,vdy:0}},{id:"no-animal",label:"Je préfère les arbres aux animaux.",score:{suzuha:0,ede:0,vdy:3}}]}];function u(){window.questions=o.sort((function(){return Math.random()-.5})),r.select("wtr-question-number").setAttribute("questions-length",window.questions.length),c(),r.select("wtr-button-next").addEventListener("click",h)}function a(e){window.selectedAnswer=e,l()}function d(){return window.questionIndex<window.questions.length?window.questions[window.questionIndex]:void 0}function l(){var e=d().choices.find((function(e){return e.id===window.selectedAnswer})).score,t=!0,n=!1,i=void 0;try{for(var o,u=Object.entries(window.tmpScore)[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var a=s.slicedToArray(o.value,1)[0];window.tmpScore[a]=window.score[a]+e[a]}}catch(e){n=!0,i=e}finally{try{t||null==u.return||u.return()}finally{if(n)throw i}}r.select("wtr-result").setAttribute("score",JSON.stringify(window.tmpScore))}function c(){window.selectedAnswer=d().choices[0].id,l(),r.select("wtr-question").setAttribute("question",JSON.stringify(d())),r.select("wtr-question-number").setAttribute("question-index",window.questionIndex+1)}function h(){if(Object.assign(window.score,s.objectSpread({},window.tmpScore)),window.questionIndex++,d()&&c(),window.questionIndex===window.questions.length-1)r.select("wtr-button-next").innerHTML="Valider";else if(window.questionIndex===window.questions.length){r.select("wtr-button-next").setAttribute("hidden",!0),r.select("wtr-question").setAttribute("hidden",!0),r.select("wtr-question-number").setAttribute("hidden",!0),r.select("wtr-see-books").removeAttribute("hidden")}}})),i.register("jYHEd",(function(t,n){function s(e){var t=window.selectors[e];return t||(t=document.getElementById(e),window.selectors.id=t),t}function r(e,t,n){e.forEach((function(e){n?s(e).classList.add(t):s(e).classList.remove(t)}))}function i(){return"#".concat(window.baseURL,"?").concat(window.sortingParam)}e(t.exports,"select",(function(){return s})),e(t.exports,"toggleClass",(function(){return r})),e(t.exports,"getURL",(function(){return i}))})),i("gm4sb").register(JSON.parse('{"liO3X":"index.d88e7b50.js","gbcXk":"style.e5948fae.css","hwmB9":"background.0a8f6521.jpg","cx3w5":"artwork-suzuha.22f78bed.jpg","aroW2":"artwork-ede.bf6f015e.png","ilpGW":"cover-renaissance-s4-1024.1780a789.png","6Vjqf":"artwork-statue-chateau-s4.e8f883b3.png","gR7QX":"artwork-lecture-s4.e6252b68.png"}'));var o,u=i("kAkBg");o=i("5waPY").getBundleURL("liO3X")+i("gm4sb").resolve("gbcXk");var a=i("12Wwg"),d=function(e){"use strict";u.inherits(s,e);var n=u.createSuper(s);function s(){var e;u.classCallCheck(this,s),(e=n.call(this)).wrapper=document.createElement("div");var r=e.attachShadow({mode:"closed"});return r.innerHTML='\n      <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">\n      <link rel="stylesheet" type="text/css" href="'.concat(t(o),'">\n    '),r.appendChild(e.wrapper),e}return u.createClass(s,[{key:"attributeChangedCallback",value:function(e,t,n){null!==t&&this.removeQuestionListeners();var s=JSON.parse(n);this.showQuestion(s),this.addQuestionListeners()}},{key:"disconnectedCallback",value:function(){this.removeQuestionListeners()}},{key:"addQuestionListeners",value:function(){var e=this;this.wrapper.querySelectorAll("[name]").forEach((function(t){t.addEventListener("change",e.selectAnswer)}))}},{key:"removeQuestionListeners",value:function(){var e=this;this.wrapper.querySelectorAll("[name]").forEach((function(t){t.removeEventListener("change",e.selectAnswer)}))}},{key:"selectAnswer",value:function(e){a.updateAnswer(e.target.value)}},{key:"showQuestion",value:function(e){var t="",n=!0,s=" checked";e.choices.forEach((function(e){t+='\n        <div>\n          <input type="radio" id="'.concat(e.id,'" name="question" value="').concat(e.id,'"').concat(s,'>\n          <label for="').concat(e.id,'">').concat(e.label,"</label>\n        </div>\n      "),n&&(n=!1,s="")})),this.wrapper.innerHTML="\n      <p>".concat(e.label,"</p>\n      ").concat(t,"\n    ")}}],[{key:"observedAttributes",get:function(){return["question"]}}]),s}(u.wrapNativeSuper(HTMLElement));customElements.define("adr-question",d)}();
//# sourceMappingURL=index.d88e7b50.js.map
