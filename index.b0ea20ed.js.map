{"mappings":"YAIG,sBAQMA,EAAaC,OAGlBC,EAAoBC,mBACpBC,EAAS,OACTC,EAAW,cAIXC,EAAkB,kBAElBC,EAAiBC,OAAOC,gBACtBD,OAAOC,eAAc,gBAAe,aACxB,YAIdC,EAAGC,UAEAC,OAZW,OAcXC,KAAI,WAfK,SAgBHD,cACFE,gBAAgBC,UAAUC,IAAId,QAC9Be,MAAMC,aAAab,GAAa,QAChCO,OAnBK,SAuBTO,KAAI,WAtBO,SAuBLP,cACFE,gBAAgBC,UAAUK,OAAOlB,QACjCe,MAAMC,aAAab,GAAa,QAChCgB,MAAMC,aACNV,OA3BO,SA+BXW,OAAM,gBA/BK,SAgCJX,OAAsB,OAAS,gBAGtCY,KAAI,SAAaC,GACpBA,EAAEC,kBACFD,EAAEE,uBAGCb,gBAAkBb,OAClBoB,MAAKV,KAAQG,gBAAgBc,cAActB,QAC3CW,MAAKN,KAAQG,gBAAgBc,cAvCnB,4BAwCVC,eAAclB,KAAQM,MAAMW,cAActB,QAG1Ce,MAAMH,aAAY,gBAAgB,aAClCD,MAAMC,aAAad,EAAS,aAC5Ba,MAAMC,aAAY,kBAAkBP,KAAOU,MAAMS,aAAY,YAC7Db,MAAMC,aAAY,cAAc,WACjCa,QAAQC,KAAIrB,KACTM,MAAMgB,iBAAgB,OAAK,SACvBC,GACPA,EAAGhB,aAAad,EAAS,sBAGzB2B,QAAQC,KAAIrB,KACTM,MAAMgB,iBAAgB,MAAI,SACtBC,GACPA,EAAGhB,aAAad,EAAS,oBAKxBiB,MAAMc,iBAAgB,SAAQ,SAAYV,GAC7CA,EAAEC,kBACFD,EAAEE,iBACFjB,EAAIa,YAINa,SAASD,iBAAgB,WAAU,SAAYV,OACzCY,EACFC,EACAC,EACAC,EACAC,KA7EU,IAgFR/B,EAAIE,SAKJF,EAAIO,MAAMW,cAnFM,wBAuFpBS,EAAc3B,EAAIO,MAAMW,cAAa,UAGnB,KAAdH,EAAEiB,QAEJhC,EAAIc,KAAKC,GACTf,EAAIS,eAGuC,KAAdM,EAAEiB,QAAc,KAE7ChC,EAAIc,KAAKC,GAETc,EAAeF,EAAeA,EAAYM,WAAWJ,YAAc,KAE5DA,GAAwC,IAAzBA,EAAYK,UAChCL,EAAcA,EAAYA,YAE5BE,EAAYF,EAAeA,EAAYX,cAAa,mBAAsB,KAErES,EAGII,GACPA,EAASnB,QAHTZ,EAAIO,MAAMW,cAAa,mBAAoBN,gBAOF,KAAdG,EAAEiB,QAAc,KAE7ChC,EAAIc,KAAKC,GAETa,EAAmBD,EAAeA,EAAYM,WAAWL,gBAAkB,KACpEA,GAAgD,IAA7BA,EAAgBM,UACxCN,EAAkBA,EAAgBA,gBAEpCE,EAAgBF,EAAmBA,EAAgBV,cAAa,mBAAsB,KAEjFS,EAIIG,GACPA,EAAalB,QAJbZ,EAAIO,MAAMW,cAAa,8CAA+CN,YAU5Ec,SAASD,iBAAiB5B,GAAa,SAAYkB,OAC7CoB,EAASpB,EAAEoB,OACXA,IAAWnC,EAAIW,OAAUX,EAAIO,MAAM6B,SAASD,KAC9CnC,EAAIS,OACJT,EAAIW,MAAM0B,+BAOVC,EAAkBZ,SAASH,iBAAgB,2BACtCgB,EAAI,EAAGA,EAAID,EAAgBE,OAAQD,IACnC,IAAOjD,EAAagD,EAAgBC,IAI/CE","sources":["js/pure-dropdown.js"],"sourcesContent":["/**\n * This script is provided by Pure CSS documentation to implement some keyboard control on dropdowns\n * Menu documentation page: https://purecss.io/menus/\n * Script location: https://purecss.io/js/menus.js\n */\n\n'use strict'\n\n// Enable drop-down menus in Pure\n// Inspired by YUI3 gallery-simple-menu by Julien LeComte\n// [https://github.com/yui/yui3-gallery/blob/master/src/gallery-simple-menu/js/simple-menu.js]\n\nfunction PureDropdown(dropdownParent) {\n\n  let PREFIX = 'pure-',\n    ACTIVE_CLASS_NAME = PREFIX + 'menu-active',\n    ARIA_ROLE = 'role',\n    ARIA_HIDDEN = 'aria-hidden',\n    MENU_OPEN = 0,\n    MENU_CLOSED = 1,\n    MENU_ACTIVE_SELECTOR = '.pure-menu-active',\n    MENU_LINK_SELECTOR = '.pure-menu-link',\n    MENU_SELECTOR = '.pure-menu-children',\n    DISMISS_EVENT = (window.hasOwnProperty &&\n      window.hasOwnProperty('ontouchstart')) ?\n      'touchstart' : 'mousedown',\n\n    ARROW_KEYS_ENABLED = true,\n\n    ddm = this // drop down menu\n\n  this._state = MENU_CLOSED\n\n  this.show = function () {\n    if (this._state !== MENU_OPEN) {\n      this._dropdownParent.classList.add(ACTIVE_CLASS_NAME)\n      this._menu.setAttribute(ARIA_HIDDEN, false)\n      this._state = MENU_OPEN\n    }\n  }\n\n  this.hide = function () {\n    if (this._state !== MENU_CLOSED) {\n      this._dropdownParent.classList.remove(ACTIVE_CLASS_NAME)\n      this._menu.setAttribute(ARIA_HIDDEN, true)\n      this._link.focus()\n      this._state = MENU_CLOSED\n    }\n  }\n\n  this.toggle = function () {\n    this[this._state === MENU_CLOSED ? 'show' : 'hide']()\n  }\n\n  this.halt = function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n  }\n\n  this._dropdownParent = dropdownParent\n  this._link = this._dropdownParent.querySelector(MENU_LINK_SELECTOR)\n  this._menu = this._dropdownParent.querySelector(MENU_SELECTOR)\n  this._firstMenuLink = this._menu.querySelector(MENU_LINK_SELECTOR)\n\n  // Set ARIA attributes\n  this._link.setAttribute('aria-haspopup', 'true')\n  this._menu.setAttribute(ARIA_ROLE, 'menu')\n  this._menu.setAttribute('aria-labelledby', this._link.getAttribute('id'))\n  this._menu.setAttribute('aria-hidden', 'true')\n  ;[].forEach.call(\n    this._menu.querySelectorAll('li'),\n    function(el){\n      el.setAttribute(ARIA_ROLE, 'presentation')\n    }\n  )\n  ;[].forEach.call(\n    this._menu.querySelectorAll('a'),\n    function(el){\n      el.setAttribute(ARIA_ROLE, 'menuitem')\n    }\n  )\n\n  // Toggle on click\n  this._link.addEventListener('click', function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n    ddm.toggle()\n  })\n\n  // Keyboard navigation\n  document.addEventListener('keydown', function (e) {\n    let currentLink,\n      previousSibling,\n      nextSibling,\n      previousLink,\n      nextLink\n\n    // if the menu isn't active, ignore\n    if (ddm._state !== MENU_OPEN) {\n      return\n    }\n\n    // if the menu is the parent of an open, active submenu, ignore\n    if (ddm._menu.querySelector(MENU_ACTIVE_SELECTOR)) {\n      return\n    }\n\n    currentLink = ddm._menu.querySelector(':focus')\n\n    // Dismiss an open menu on ESC\n    if (e.keyCode === 27) {\n      /* Esc */\n      ddm.halt(e)\n      ddm.hide()\n    }\n    // Go to the next link on down arrow\n    else if (ARROW_KEYS_ENABLED && e.keyCode === 40) {\n      /* Down arrow */\n      ddm.halt(e)\n      // get the nextSibling (an LI) of the current link's LI\n      nextSibling = (currentLink) ? currentLink.parentNode.nextSibling : null\n      // if the nextSibling is a text node (not an element), go to the next one\n      while (nextSibling && nextSibling.nodeType !== 1) {\n        nextSibling = nextSibling.nextSibling\n      }\n      nextLink = (nextSibling) ? nextSibling.querySelector('.pure-menu-link') : null\n      // if there is no currently focused link, focus the first one\n      if (!currentLink) {\n        ddm._menu.querySelector('.pure-menu-link').focus()\n      }\n      else if (nextLink) {\n        nextLink.focus()\n      }\n    }\n    // Go to the previous link on up arrow\n    else if (ARROW_KEYS_ENABLED && e.keyCode === 38) {\n      /* Up arrow */\n      ddm.halt(e)\n      // get the currently focused link\n      previousSibling = (currentLink) ? currentLink.parentNode.previousSibling : null\n      while (previousSibling && previousSibling.nodeType !== 1) {\n        previousSibling = previousSibling.previousSibling\n      }\n      previousLink = (previousSibling) ? previousSibling.querySelector('.pure-menu-link') : null\n      // if there is no currently focused link, focus the last link\n      if (!currentLink) {\n        ddm._menu.querySelector('.pure-menu-item:last-child .pure-menu-link').focus()\n      }\n      // else if there is a previous item, go to the previous item\n      else if (previousLink) {\n        previousLink.focus()\n      }\n    }\n  })\n\n  // Dismiss an open menu on outside event\n  document.addEventListener(DISMISS_EVENT, function (e) {\n    let target = e.target\n    if (target !== ddm._link && !ddm._menu.contains(target)) {\n      ddm.hide()\n      ddm._link.blur()\n    }\n  })\n\n}\n\nfunction initDropdowns() {\n  let dropdownParents = document.querySelectorAll('.pure-menu-has-children')\n  for (let i = 0; i < dropdownParents.length; i++) {\n    let ddm = new PureDropdown(dropdownParents[i])\n  }\n}\n\ninitDropdowns()\n\n\n"],"names":["$b74a8dc69b08c125$var$PureDropdown","dropdownParent","ACTIVE_CLASS_NAME","PREFIX","ARIA_ROLE","ARIA_HIDDEN","MENU_LINK_SELECTOR","DISMISS_EVENT","window","hasOwnProperty","ddm","this","_state","show","_dropdownParent","classList","add","_menu","setAttribute","hide","remove","_link","focus","toggle","halt","e","stopPropagation","preventDefault","querySelector","_firstMenuLink","getAttribute","forEach","call","querySelectorAll","el","addEventListener","document","currentLink","previousSibling","nextSibling","previousLink","nextLink","keyCode","parentNode","nodeType","target","contains","blur","dropdownParents","i","length","$b74a8dc69b08c125$var$initDropdowns"],"version":3,"file":"index.b0ea20ed.js.map"}